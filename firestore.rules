rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // Default deny all access
    match /{document=**} {
      allow read, write: if false;
    }

    // Allow public access to collections needed by the app.
    // This is a starting point and should be refined with specific authentication rules.
    match /users_v3/{userId} {
      allow read, write: if true;
    }
    match /managers_v3/{managerId} {
      allow read, write: if true;
    }
    match /representatives_v3/{repId} {
      allow read, write: if true;
    }
    match /orders_v3/{orderId} {
      allow read, write: if true;
    }
    match /tempOrders_v3/{tempOrderId} {
      allow read, write: if true;
    }
    match /transactions_v3/{transactionId} {
      allow read, write: if true;
    }
    match /notifications_v3/{notificationId} {
      allow read, write: if true;
    }
    match /conversations_v3/{conversationId} {
      allow read, write: if true;
    }
  }
}
